!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Slect",[],e):"object"==typeof exports?exports.Slect=e():t.Slect=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path d="M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0 c-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7 C514.5,101.703,514.499,85.494,504.502,75.496z" fill="#006DF0"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 129 129"><g><path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"></path></g></svg>'},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=function(){function t(){}return t.similarity=function(t,e,n){void 0===n&&(n=!0);var i=t,s=e;t.length<e.length&&(i=e,s=t),n||(i=i.slice(0,s.length));var o=i.length;return 0==o?1:(o-this.editDistance(i,s))/o},t.editDistance=function(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=[],i=0;i<=t.length;i++){for(var s=i,o=0;o<=e.length;o++)if(0==i)n[o]=o;else if(o>0){var l=n[o-1];t.charAt(i-1)!=e.charAt(o-1)&&(l=Math.min(Math.min(l,s),n[o])+1),n[o-1]=s,s=l}i>0&&(n[e.length]=s)}return n[e.length]},t}(),s=function(){function t(){}return t.hasClass=function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},t.addClass=function(t,e){t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className+=" "+e)},t.removeClass=function(t,e){if(t.classList)t.classList.remove(e);else if(this.hasClass(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}},t.clearDOM=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t}(),o=n(0),l=n.n(o),r=function(){function t(t){this.selected=!1,this.option=t,this.domElement=document.createElement("div"),this.init()}return t.prototype.init=function(){var t=this;s.addClass(this.domElement,"slect-suggestion-list-item"),this.domElement.addEventListener("click",function(){void 0!==t.onClick&&t.onClick(t)})},t.prototype.select=function(t){this.selected=t,t?s.addClass(this.domElement,"selected"):s.removeClass(this.domElement,"selected")},t.prototype.render=function(){var t=this;return s.clearDOM(this.domElement),new Promise(function(e){t.domElement.appendChild(document.createTextNode(t.option.label)),t.domElement.dataset.optionValue=t.option.value;var n=document.createElement("div");s.addClass(n,"slect-checkmark-container"),n.innerHTML=l.a,t.domElement.appendChild(n),t.select(t.selected),e(t.domElement)})},t}(),c=function(){function t(t){var e=this;this.opts=[],this.listItems=[],this.selectedItems=[],this.onClickListItem=function(t){e.selectedItems.length>0&&e.selectedItems[0].select(!1),t.select(!0),e.selectedItems=[t],"function"==typeof e.onSelect&&e.onSelect(e.selectedItems.map(function(t){return t.option}))},this.opts=t,this.domElement=document.createElement("div"),this.init()}return Object.defineProperty(t.prototype,"options",{get:function(){return this.opts},set:function(t){var e=this;(this.opts.length!==t.length||t.find(function(t,n){return e.opts[n]!==t}))&&(this.opts=t,this.updateListItems(),this.render())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){return this.selectedItems.map(function(t){return t.option})},set:function(t){this.selectedItems=this.listItems.reduce(function(e,n){return-1!==t.indexOf(n.option)&&(n.select(!0),e.push(n)),e},[])},enumerable:!0,configurable:!0}),t.prototype.init=function(){s.addClass(this.domElement,"slect-suggestion-list"),this.updateListItems()},t.prototype.updateListItems=function(){var t=this;this.listItems=this.options.map(function(e){var n=new r(e);return n.onClick=t.onClickListItem,n})},t.prototype.hide=function(){this.domElement.style.display="none"},t.prototype.show=function(){this.domElement.style.display="initial"},t.prototype.render=function(){var t=this;return s.clearDOM(this.domElement),Promise.all(this.listItems.map(function(t){return t.render()})).then(function(e){return e.forEach(function(e){return t.domElement.append(e)}),t.domElement})},t}(),u=n(1),a=n.n(u),d=(n(2),function(){function t(e,n,i){var s=this;this.selectedOpts=[],this.onSelect=function(t){s.selectedOpts=t,s.config.onSelect(t),s.updateInput(),s.onBlur()},this.onClickBody=function(t){var e=t.target||t.srcElement||t.currentTarget;e instanceof Node&&s.element.contains(e)||s.onBlur()},this.onBlur=function(){s.suggestionList.hide()},this.onInputKeyUp=function(){s.onInputChange()},this.onInputKeyDown=function(t){9===t.keyCode&&s.onBlur()},this.onInputChange=function(){s.updateSuggestionList()},this.onInputFocus=function(){s.suggestionList.show()};var o=document.body.querySelector(e);if(!(o instanceof HTMLElement))throw new Error("No element with given selector found in DOM.");this.element=o,this.options=n,this.config=t.defaultConfig,i&&(this.config=Object.assign(t.defaultConfig,i)),this.inputEl=document.createElement("input"),this.element.appendChild(this.inputEl),this.suggestionList=new c([]),this.init()}return Object.defineProperty(t.prototype,"selectedOptions",{get:function(){return this.selectedOpts},set:function(t){this.selectedOpts=t,this.suggestionList.selectedOptions=t,this.updateInput()},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this;if(s.addClass(this.element,"slect"),s.addClass(this.inputEl,"slect-input"),this.inputEl.addEventListener("change",this.onInputChange),this.inputEl.addEventListener("keyup",this.onInputKeyUp),this.inputEl.addEventListener("keydown",this.onInputKeyDown),this.inputEl.addEventListener("focus",this.onInputFocus),this.suggestionList.render().then(function(e){return t.element.appendChild(e)}),this.config.allowViewAllOptions){var e=document.createElement("div");e.addEventListener("click",function(){t.inputEl.focus(),t.onInputFocus()}),s.addClass(e,"slect-chevron-container"),e.innerHTML=a.a,this.element.appendChild(e),this.suggestionList.options=this.options}window.addEventListener("click",this.onClickBody),this.suggestionList.onSelect=this.onSelect},t.prototype.updateInput=function(){this.inputEl.value=this.selectedOptions.map(function(t){return t.label}).join(", ")},t.prototype.updateSuggestionList=function(){var t=this.inputEl.value,e=[];if(this.config.allowViewAllOptions||t.length>=this.config.minTextLengthForSuggestions){var n=!0;this.config.allowViewAllOptions&&(n=!1),e=this.options,t.length>0&&(e=e.reduce(function(e,s){var o=i.similarity(t,s.label,n);return o>.5&&e.push({similarity:o,option:s}),e},[]).sort(function(t,e){return e.similarity-t.similarity}).map(function(t){return t.option}))}this.suggestionList.options=e,this.suggestionList.selectedOptions=this.selectedOptions},t.defaultConfig={minTextLengthForSuggestions:3,maxSuggestions:0,allowViewAllOptions:!0,onSelect:function(t){console&&console.info&&console.info("onSelect is not handled. You can do the same by passing via config",t)}},t}());e.default=d}]).default});
//# sourceMappingURL=slect.min.js.map