!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Slect",[],t):"object"==typeof exports?exports.Slect=t():e.Slect=t()}(window,function(){return function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},e.addClass=function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=" "+t)},e.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},e.clearDOM=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),r=n(4),i=n(7);n(8);var u=n(0),o=function(){function s(e,t,n){var i=this;if(this.selectedOpts=[],this.onSelect=function(e){i.selectedOpts=e,i.config.onSelect(e),i.updateInput(),i.onBlur()},this.onClickBody=function(e){var t=e.target||e.srcElement||e.currentTarget;t instanceof Node&&i.element.contains(t)||i.onBlur()},this.onInputKeyUp=function(){i.onInputChange()},this.onInputKeyDown=function(e){9===e.keyCode&&i.onBlur()},this.onInputChange=function(){i.updateSuggestionList()},this.onBlur=function(){u.default.removeClass(i.element,"focused")},this.onFocus=function(){u.default.addClass(i.element,"focused")},e instanceof HTMLElement)this.element=e;else{if("string"!=typeof e)throw new Error("Invalid selector.");var o=document.body.querySelector(e);if(!(o instanceof HTMLElement))throw new Error("No element with given selector found in DOM.");this.element=o}this.options=t,this.config=s.defaultConfig,n&&(this.config=Object.assign(s.defaultConfig,n)),this.inputEl=document.createElement("input"),this.element.appendChild(this.inputEl),this.suggestionList=new r.default([]),this.init()}return Object.defineProperty(s.prototype,"selectedOptions",{get:function(){return this.selectedOpts},set:function(e){this.selectedOpts=e,this.suggestionList.selectedOptions=e,this.updateInput()},enumerable:!0,configurable:!0}),s.prototype.init=function(){var n=this;if(u.default.addClass(this.element,"slect"),u.default.addClass(this.inputEl,"slect-input"),this.inputEl.addEventListener("change",this.onInputChange),this.inputEl.addEventListener("keyup",this.onInputKeyUp),this.inputEl.addEventListener("keydown",this.onInputKeyDown),this.inputEl.addEventListener("focus",this.onFocus),this.suggestionList.render().then(function(e){return n.element.appendChild(e)}),this.config.allowViewAllOptions){var e=document.createElement("div");e.addEventListener("click",function(){n.inputEl.focus(),n.onFocus()}),u.default.addClass(e,"slect-chevron-container"),e.innerHTML=i.default,this.element.appendChild(e),this.suggestionList.options=this.options}(window.addEventListener("click",this.onClickBody),"function"==typeof MutationObserver&&this.element.parentNode)&&new MutationObserver(function(e){var t=!1;e.forEach(function(e){e.removedNodes.forEach(function(e){e===n.element&&(t=!0)})}),t&&window.removeEventListener("click",n.onClickBody)}).observe(this.element.parentNode,{childList:!0});this.suggestionList.onSelect=this.onSelect},s.prototype.updateInput=function(){this.inputEl.value=this.selectedOptions.map(function(e){return e.label}).join(", ")},s.prototype.updateSuggestionList=function(){var i=this.inputEl.value,e=[];if(this.config.allowViewAllOptions||i.length>=this.config.minTextLengthForSuggestions){var o=!0;this.config.allowViewAllOptions&&(o=!1),e=this.options,0<i.length&&(e=e.reduce(function(e,t){var n=l.default.similarity(i,t.label,o);return.5<n&&e.push({similarity:n,option:t}),e},[]).sort(function(e,t){return t.similarity-e.similarity}).map(function(e){return e.option}))}this.suggestionList.options=e,this.suggestionList.selectedOptions=this.selectedOptions},Object.defineProperty(s,"version",{get:function(){return"v0.0.6-2-g2abe959"},enumerable:!0,configurable:!0}),s.defaultConfig={minTextLengthForSuggestions:3,maxSuggestions:0,allowViewAllOptions:!0,onSelect:function(e){console&&console.info&&console.info("onSelect is not handled. You can do the same by passing via config",e)}},s}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.similarity=function(e,t,n){void 0===n&&(n=!0);var i=e,o=t;e.length<t.length&&(i=t,o=e),n||(i=i.slice(0,o.length));var s=i.length;return 0==s?1:(s-this.editDistance(i,o))/s},e.editDistance=function(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=[],i=0;i<=e.length;i++){for(var o=i,s=0;s<=t.length;s++)if(0==i)n[s]=s;else if(0<s){var l=n[s-1];e.charAt(i-1)!=t.charAt(s-1)&&(l=Math.min(Math.min(l,o),n[s])+1),n[s-1]=o,o=l}0<i&&(n[t.length]=o)}return n[t.length]},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(0),s=function(){function e(e){var t=this;this.opts=[],this.listItems=[],this.selectedItems=[],this.onClickListItem=function(e){0<t.selectedItems.length&&t.selectedItems[0].select(!1),e.select(!0),t.selectedItems=[e],"function"==typeof t.onSelect&&t.onSelect(t.selectedItems.map(function(e){return e.option}))},this.opts=e,this.domElement=document.createElement("div"),this.init()}return Object.defineProperty(e.prototype,"options",{get:function(){return this.opts},set:function(e){var n=this;(this.opts.length!==e.length||e.find(function(e,t){return n.opts[t]!==e}))&&(this.opts=e,this.updateListItems(),this.render())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptions",{get:function(){return this.selectedItems.map(function(e){return e.option})},set:function(n){this.selectedItems=this.listItems.reduce(function(e,t){return-1!==n.indexOf(t.option)&&(t.select(!0),e.push(t)),e},[])},enumerable:!0,configurable:!0}),e.prototype.init=function(){o.default.addClass(this.domElement,"slect-suggestion-list"),this.updateListItems()},e.prototype.updateListItems=function(){var n=this;this.listItems=this.options.map(function(e){var t=new i.default(e);return t.onClick=n.onClickListItem,t})},e.prototype.render=function(){var t=this;return o.default.clearDOM(this.domElement),Promise.all(this.listItems.map(function(e){return e.render()})).then(function(e){return e.forEach(function(e){return t.domElement.append(e)}),t.domElement})},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(6),s=function(){function e(e){this.selected=!1,this.option=e,this.domElement=document.createElement("div"),this.init()}return e.prototype.init=function(){var e=this;i.default.addClass(this.domElement,"slect-suggestion-list-item"),this.domElement.addEventListener("click",function(){void 0!==e.onClick&&e.onClick(e)})},e.prototype.select=function(e){(this.selected=e)?i.default.addClass(this.domElement,"selected"):i.default.removeClass(this.domElement,"selected")},e.prototype.render=function(){var n=this;return i.default.clearDOM(this.domElement),new Promise(function(e){n.domElement.appendChild(document.createTextNode(n.option.label)),n.domElement.dataset.optionValue=n.option.value;var t=document.createElement("div");i.default.addClass(t,"slect-checkmark-container"),t.innerHTML=o.default,n.domElement.appendChild(t),n.select(n.selected),e(n.domElement)})},e}();t.default=s},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path d="M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0 c-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7 C514.5,101.703,514.499,85.494,504.502,75.496z" fill="#006DF0"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 129 129"><g><path d="m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"></path></g></svg>'},function(e,t,n){}]).default});