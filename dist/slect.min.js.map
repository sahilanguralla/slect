{"version":3,"sources":["webpack://Slect/webpack/universalModuleDefinition","webpack://Slect/webpack/bootstrap","webpack://Slect/./src/assets/icons/tick.svg","webpack://Slect/./src/assets/icons/chevron-down.svg","webpack://Slect/./src/services/GeneralUtils.ts","webpack://Slect/./src/services/HTMLElementUtils.ts","webpack://Slect/./src/SlectSuggestionListItem.ts","webpack://Slect/./src/SlectSuggestionList.ts","webpack://Slect/./src/Slect.ts","webpack://Slect/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","services_GeneralUtils","GeneralUtils","similarity","s1","s2","exactMatch","longer","shorter","length","slice","longerLength","this","editDistance","toLowerCase","costs","lastValue","j","newValue","charAt","Math","min","services_HTMLElementUtils","HTMLElementUtils","hasClass","el","className","classList","contains","match","RegExp","addClass","add","removeClass","remove","reg","replace","clearDOM","firstChild","removeChild","src_SlectSuggestionListItem","SlectSuggestionListItem","option","selected","domElement","document","createElement","init","_this","addEventListener","onClick","select","render","Promise","resolve","appendChild","createTextNode","label","dataset","optionValue","tickContainerEl","innerHTML","tick_default","a","src_SlectSuggestionList","SlectSuggestionList","options","opts","listItems","selectedItems","onClickListItem","item","onSelect","map","find","index","updateListItems","reduce","items","indexOf","push","hide","style","display","show","all","then","els","forEach","append","src_Slect","Slect","selector","config","selectedOpts","updateInput","onBlur","onClickBody","event","target","srcElement","currentTarget","Node","element","suggestionList","onInputKeyUp","onInputChange","onInputKeyDown","keyCode","updateSuggestionList","onInputFocus","body","querySelector","HTMLElement","Error","defaultConfig","assign","inputEl","selectedOptions","allowViewAllOptions","chevContainerEl","focus","chevron_down_default","join","text","validOptions","minTextLengthForSuggestions","exactMatch_1","prevValue","sort","optionA","optionB","optionSim","maxSuggestions","console","info","__webpack_exports__"],"mappings":"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","file":"slect.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Slect\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Slect\"] = factory();\n\telse\n\t\troot[\"Slect\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" id=\\\"Layer_1\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 512 512\\\" style=\\\"enable-background:new 0 0 512 512;\\\" xml:space=\\\"preserve\\\"><g><g><path d=\\\"M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0 c-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7 C514.5,101.703,514.499,85.494,504.502,75.496z\\\" fill=\\\"#006DF0\\\"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\"","module.exports = \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 129 129\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" enable-background=\\\"new 0 0 129 129\\\"><g><path d=\\\"m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z\\\"></path></g></svg>\"","class GeneralUtils {\n    static similarity(s1: string, s2: string, exactMatch = true) {\n        let longer = s1;\n        let shorter = s2;\n        if (s1.length < s2.length) {\n            longer = s2;\n            shorter = s1;\n        }\n        if(!exactMatch) {\n            longer = longer.slice(0, shorter.length)\n        }\n        let longerLength = longer.length;\n        if (longerLength == 0) {\n            return 1.0;\n        }\n        return (\n            (longerLength - this.editDistance(longer, shorter)) / longerLength\n        );\n    }\n\n    static editDistance(s1: string, s2: string) {\n        s1 = s1.toLowerCase();\n        s2 = s2.toLowerCase();\n\n        let costs = [];\n        for (let i = 0; i <= s1.length; i++) {\n            let lastValue = i;\n            for (let j = 0; j <= s2.length; j++) {\n                if (i == 0) costs[j] = j;\n                else {\n                    if (j > 0) {\n                        let newValue = costs[j - 1];\n                        if (s1.charAt(i - 1) != s2.charAt(j - 1))\n                            newValue =\n                                Math.min(\n                                    Math.min(newValue, lastValue),\n                                    costs[j]\n                                ) + 1;\n                        costs[j - 1] = lastValue;\n                        lastValue = newValue;\n                    }\n                }\n            }\n            if (i > 0) costs[s2.length] = lastValue;\n        }\n        return costs[s2.length];\n    }\n}\n\nexport default GeneralUtils;\n","class HTMLElementUtils {\n    static hasClass(el:HTMLElement, className:string) {\n        if (el.classList) return el.classList.contains(className);\n        return !!el.className.match(\n            new RegExp('(\\\\s|^)' + className + '(\\\\s|$)')\n        );\n    }\n\n    static addClass(el:HTMLElement, className:string) {\n        if (el.classList) el.classList.add(className);\n        else if (!this.hasClass(el, className)) el.className += ' ' + className;\n    }\n\n    static removeClass(el:HTMLElement, className:string) {\n        if (el.classList) el.classList.remove(className);\n        else if (this.hasClass(el, className)) {\n            let reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n            el.className = el.className.replace(reg, ' ');\n        }\n    }\n\n    static clearDOM(el: HTMLElement) {\n        while (el.firstChild) {\n            el.removeChild(el.firstChild);\n        }\n    }\n}\n\nexport default HTMLElementUtils;\n","import SlectOption from './SlectOption';\nimport HTMLElementUtils from './services/HTMLElementUtils';\nimport tickIcon from './assets/icons/tick.svg';\n\nclass SlectSuggestionListItem {\n    option: SlectOption;\n\n    domElement: HTMLElement;\n\n    onClick?: (item: SlectSuggestionListItem) => void;\n\n    private selected: boolean = false;\n\n    constructor(option: SlectOption) {\n        this.option = option;\n        this.domElement = document.createElement('div');\n        this.init();\n    }\n\n    init() {\n        HTMLElementUtils.addClass(\n            this.domElement,\n            'slect-suggestion-list-item'\n        );\n        this.domElement.addEventListener('click', () => {\n            if (typeof this.onClick !== 'undefined') {\n                this.onClick(this);\n            }\n        });\n    }\n\n    select(selected: boolean) {\n        this.selected = selected;\n        if (selected) {\n            HTMLElementUtils.addClass(this.domElement, 'selected');\n        } else {\n            HTMLElementUtils.removeClass(this.domElement, 'selected');\n        }\n    }\n\n    render() {\n        HTMLElementUtils.clearDOM(this.domElement);\n        return new Promise<HTMLElement>(resolve => {\n            this.domElement.appendChild(\n                document.createTextNode(this.option.label)\n            );\n            this.domElement.dataset.optionValue = this.option.value;\n\n            const tickContainerEl = document.createElement('div');\n            HTMLElementUtils.addClass(\n                tickContainerEl,\n                'slect-checkmark-container'\n            );\n            tickContainerEl.innerHTML = tickIcon;\n            this.domElement.appendChild(tickContainerEl);\n\n            this.select(this.selected);\n            resolve(this.domElement);\n        });\n    }\n}\n\nexport default SlectSuggestionListItem;\n","import SlectOption from './SlectOption';\nimport SlectSuggestionListItem from './SlectSuggestionListItem';\nimport HTMLElementUtils from './services/HTMLElementUtils';\n\nclass SlectSuggestionList {\n    private opts: SlectOption[] = [];\n\n    get options(): SlectOption[] {\n        return this.opts;\n    }\n    set options(options: SlectOption[]) {\n        if (\n            this.opts.length !== options.length ||\n            options.find((option, index) => this.opts[index] !== option)\n        ) {\n            this.opts = options;\n            this.updateListItems();\n            this.render();\n        }\n    }\n\n    private listItems: SlectSuggestionListItem[] = [];\n\n    private selectedItems: SlectSuggestionListItem[] = [];\n    get selectedOptions() {\n        return this.selectedItems.map(item => item.option);\n    }\n    set selectedOptions(options: SlectOption[]) {\n        this.selectedItems = this.listItems.reduce(\n            (\n                items: SlectSuggestionListItem[],\n                item: SlectSuggestionListItem\n            ) => {\n                if (options.indexOf(item.option) !== -1)  {\n                    item.select(true);\n                    items.push(item);\n                }\n                return items;\n            },\n            []\n        );\n    }\n\n    onSelect?: (options: SlectOption[]) => void;\n\n    domElement: HTMLElement;\n\n    constructor(options: SlectOption[]) {\n        this.opts = options;\n        this.domElement = document.createElement('div');\n        this.init();\n    }\n\n    init() {\n        HTMLElementUtils.addClass(this.domElement, 'slect-suggestion-list');\n        this.updateListItems();\n    }\n\n    updateListItems() {\n        this.listItems = this.options.map(option => {\n            const item = new SlectSuggestionListItem(option);\n            item.onClick = this.onClickListItem;\n            return item;\n        });\n    }\n\n    onClickListItem = (item: SlectSuggestionListItem) => {\n        if (this.selectedItems.length > 0) {\n            this.selectedItems[0].select(false);\n        }\n        item.select(true);\n        this.selectedItems = [item];\n        if (typeof this.onSelect === 'function') {\n            this.onSelect(this.selectedItems.map(item => item.option));\n        }\n    };\n\n    hide() {\n        this.domElement.style.display = 'none';\n    }\n\n    show() {\n        this.domElement.style.display = 'initial';\n    }\n\n    render(): Promise<HTMLElement> {\n        HTMLElementUtils.clearDOM(this.domElement);\n        return Promise.all(this.listItems.map(item => item.render())).then(\n            els => {\n                els.forEach(el => this.domElement.append(el));\n                return this.domElement;\n            }\n        );\n    }\n}\n\nexport default SlectSuggestionList;\n","import SlectOption from './SlectOption';\nimport SlectConfig from './SlectConfig';\nimport GeneralUtils from './services/GeneralUtils';\nimport SlectSuggestionList from './SlectSuggestionList';\n\nimport chevronIcon from './assets/icons/chevron-down.svg';\nimport './assets/less/slect.less';\nimport HTMLElementUtils from './services/HTMLElementUtils';\n\nclass Slect {\n    options: SlectOption[];\n\n    private selectedOpts: SlectOption[] = [];\n    get selectedOptions() {\n        return this.selectedOpts;\n    }\n    set selectedOptions(options: SlectOption[]) {\n        this.selectedOpts = options;\n        this.suggestionList.selectedOptions = options;\n        this.updateInput();\n    }\n\n    private config: SlectConfig;\n\n    private readonly inputEl: HTMLInputElement;\n    private readonly suggestionList: SlectSuggestionList;\n\n    private readonly element: HTMLElement;\n\n    static readonly defaultConfig: SlectConfig = {\n        minTextLengthForSuggestions: 3,\n        maxSuggestions: 0,\n        allowViewAllOptions: true,\n        onSelect: (options: SlectOption[]) => {\n            console &&\n                console.info &&\n                console.info(\n                    'onSelect is not handled. You can do the same by passing via config',\n                    options\n                );\n        }\n    };\n\n    constructor(\n        selector: string,\n        options: SlectOption[],\n        config?: Partial<SlectConfig>\n    ) {\n        const el = document.body.querySelector(selector);\n        if (el instanceof HTMLElement) this.element = el;\n        else throw new Error(`No element with given selector found in DOM.`);\n\n        this.options = options;\n\n        this.config = Slect.defaultConfig;\n        if (config) {\n            this.config = Object.assign(Slect.defaultConfig, config);\n        }\n\n        this.inputEl = document.createElement('input');\n        this.element.appendChild(this.inputEl);\n\n        this.suggestionList = new SlectSuggestionList([]);\n\n        this.init();\n    }\n\n    init() {\n        HTMLElementUtils.addClass(this.element, 'slect');\n        HTMLElementUtils.addClass(this.inputEl, 'slect-input');\n\n        this.inputEl.addEventListener('change', this.onInputChange);\n        this.inputEl.addEventListener('keyup', this.onInputKeyUp);\n        this.inputEl.addEventListener('keydown', this.onInputKeyDown);\n        this.inputEl.addEventListener('focus', this.onInputFocus);\n\n        this.suggestionList.render().then(el => this.element.appendChild(el));\n\n        if (this.config.allowViewAllOptions) {\n            const chevContainerEl = document.createElement('div');\n            chevContainerEl.addEventListener('click', () => {\n                this.inputEl.focus();\n                this.onInputFocus();\n            });\n            HTMLElementUtils.addClass(\n                chevContainerEl,\n                'slect-chevron-container'\n            );\n            chevContainerEl.innerHTML = chevronIcon;\n            this.element.appendChild(chevContainerEl);\n\n            this.suggestionList.options = this.options;\n        }\n\n        window.addEventListener('click', this.onClickBody);\n\n        this.suggestionList.onSelect = this.onSelect;\n    }\n\n    onSelect = (options: SlectOption[]) => {\n        this.selectedOpts = options;\n        this.config.onSelect(options);\n        this.updateInput();\n        this.onBlur();\n    };\n\n    onClickBody = (event: Event) => {\n        const target = event.target || event.srcElement || event.currentTarget;\n        if (target instanceof Node && this.element.contains(target)) {\n        } else {\n            this.onBlur();\n        }\n    };\n\n    onBlur = () => {\n        this.suggestionList.hide();\n    };\n\n    onInputKeyUp = () => {\n        this.onInputChange();\n    };\n\n    onInputKeyDown = (event: KeyboardEvent) => {\n        if (event.keyCode === 9) {\n            this.onBlur();\n        }\n    };\n\n    onInputChange = () => {\n        this.updateSuggestionList();\n    };\n\n    onInputFocus = () => {\n        this.suggestionList.show();\n    };\n\n    updateInput() {\n        this.inputEl.value = this.selectedOptions\n            .map(option => option.label)\n            .join(', ');\n    }\n\n    updateSuggestionList() {\n        const text = this.inputEl.value;\n        let validOptions: SlectOption[] = [];\n        if (\n            this.config.allowViewAllOptions ||\n            text.length >= this.config.minTextLengthForSuggestions\n        ) {\n            let exactMatch = true;\n            if (this.config.allowViewAllOptions) {\n                exactMatch = false;\n            }\n            validOptions = this.options;\n            if (text.length > 0) {\n                validOptions = validOptions\n                    .reduce(\n                        (\n                            prevValue: {\n                                similarity: number;\n                                option: SlectOption;\n                            }[],\n                            option: SlectOption\n                        ) => {\n                            const similarity = GeneralUtils.similarity(\n                                text,\n                                option.label,\n                                exactMatch\n                            );\n                            if (similarity > 0.5) {\n                                prevValue.push({\n                                    similarity,\n                                    option\n                                });\n                            }\n                            return prevValue;\n                        },\n                        []\n                    )\n                    .sort(\n                        (\n                            optionA: {\n                                similarity: number;\n                                option: SlectOption;\n                            },\n                            optionB: { similarity: number; option: SlectOption }\n                        ) => {\n                            return optionB.similarity - optionA.similarity;\n                        }\n                    )\n                    .map(\n                        (optionSim: {\n                            similarity: number;\n                            option: SlectOption;\n                        }) => optionSim.option\n                    );\n            }\n        }\n\n        this.suggestionList.options = validOptions;\n        this.suggestionList.selectedOptions = this.selectedOptions;\n    }\n}\n\nexport default Slect;\n","import Slect from './Slect';\n\nexport default Slect;\n"],"sourceRoot":""}